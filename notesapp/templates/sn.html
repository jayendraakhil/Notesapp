<!DOCTYPE html>
<html>
  <head>
    <title>Sticky Notes</title>
    <style>
     * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      /* CSS styles for drag and drop functionality */
      .note.dragged {
        opacity: 0.5;
      }
      
      .note.over {
        border: 200px dashed #f0ad4e;
      }
      


      body {
        background-color: #f8f8f8;
        font-family: Arial, sans-serif;
      }

      .header {
        background-color: #f0ad4e;
        text-align: center;
        padding: 20px;
      }

      .header h1 {
        color: #fff;
        font-size: 36px;
      }

      .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin: 50px 0;
      }

      .note {
        background-color: #fff;
        border: 2px solid #f0ad4e;
        border-radius: 10px;
        box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.3);
        margin: 20px;
        width: 300px;
        height: 300px;
        padding: 20px;
        position: relative;
        cursor: move;
      }

      .note-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .note-header h2 {
        font-size: 24px;
      }

      .note-options {
        display: flex;
      }

      .add-picture,
      .delete-note {
        background-color: #f0ad4e;
        border: none;
        border-radius: 5px;
        color: #fff;
        cursor: pointer;
        margin-right: 10px;
        padding: 5px 10px;
        transition: background-color 0.3s ease-in-out;
      }

      .add-picture:hover,
      .delete-note:hover {
        background-color: #d9534f;
      }

      textarea {
        border: none;
        height: 200px;
        resize: none;
        width: 100%;
      }

      .footer {
        background-color: #f0ad4e;
        text-align: center;
        padding: 20px;
      }

      .add-note {
        background-color: #fff;
        border: 2px solid #f0ad4e;
        border-radius: 5px;
        color: #f0ad4e;
        cursor: pointer;
        font-size: 18px;
        padding: 10px 20px;
        transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
      }

      .add-note:hover {
        background-color: #f0ad4e;
        color: #fff;
      }

      @media (max-width: 767px) {
        .note {
          margin: 20px 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="note" draggable="true" ondragstart="drag(event)">
        <div class="note-header">
          <h2>Note Title</h2>
          <div class="note-options">
            <button class="add-note">&#43;</button>
            <button class="add-picture">&#128247;</button>
            <button class="delete-note">&#128465;</button>
          </div>
        </div>
      </div>
    </div>
    <script>
        // Drag and drop functionality
        var notes = document.getElementsByClassName('note');
        var draggedNote = null;
  
        for (var i = 0; i < notes.length; i++) {
          var note = notes[i];
  
          note.addEventListener('dragstart', dragStart);
          note.addEventListener('dragover', dragOver);
          note.addEventListener('dragenter', dragEnter);
          note.addEventListener('dragleave', dragLeave);
          note.addEventListener('drop', drop);
          note.addEventListener('dragend', dragEnd);
  
          // Add position tracking data attributes
          note.setAttribute('data-x', note.offsetLeft);
          note.setAttribute('data-y', note.offsetTop);
        }
  
        function dragStart(e) {
          draggedNote = this;
          e.dataTransfer.effectAllowed = 'move';
          e.dataTransfer.setData('text/html', this.innerHTML);
          this.classList.add('dragged');
        }
  
        function dragOver(e) {
          if (e.preventDefault) {
            e.preventDefault();
          }
          e.dataTransfer.dropEffect = 'move';
          return false;
        }
  
        function dragEnter() {
          this.classList.add('over');
        }
  
        function dragLeave() {
          this.classList.remove('over');
        }
  
        function drop(e) {
          if (e.stopPropagation) {
            e.stopPropagation();
          }
  
          if (draggedNote !== this) {
            var offsetX = e.clientX - parseInt(draggedNote.getAttribute('data-x'));
            var offsetY = e.clientY - parseInt(draggedNote.getAttribute('data-y'));
  
            draggedNote.style.left = offsetX + 'px';
            draggedNote.style.top = offsetY + 'px';
  
            this.style.left = parseInt(this.getAttribute('data-x')) + 'px';
            this.style.top = parseInt(this.getAttribute('data-y')) + 'px';
  
            draggedNote.setAttribute('data-x', offsetX);
            draggedNote.setAttribute('data-y', offsetY);
            this.setAttribute('data-x', parseInt(this.getAttribute('data-x')));
            this.setAttribute('data-y', parseInt(this.getAttribute('data-y')));
          }
  
          return false;
        }
  
        function dragEnd() {
            this.classList.remove('dragged');
            var overNotes = document.getElementsByClassName('over');
            for (var i = 0; i < overNotes.length; i++) {
            overNotes[i].classList.remove('over');
          }
        }
        // Function to add a note
        function addNote() {
            var container = document.getElementsByClassName('container')[0];
            var note = document.createElement('div');
            note.className = 'note';
            var noteHeader = document.createElement('div');
            noteHeader.className = 'note-header';
            var noteTitle = document.createElement('h2');
            noteTitle.innerText = 'Note Title';
            var noteOptions = document.createElement('div');
            noteOptions.className = 'note-options';
            var addNoteBtn = document.createElement('button');
            addNoteBtn.className = 'add-note';
            addNoteBtn.innerHTML = '&#43';
            addNoteBtn.addEventListener('click', addNote);
            var addPictureBtn = document.createElement('button');
            addPictureBtn.className = 'add-picture';
            addPictureBtn.innerHTML = '&#128247';
            addPictureBtn.addEventListener('click', addPicture);
            var deleteNoteBtn = document.createElement('button');
            deleteNoteBtn.className = 'delete-note';
            deleteNoteBtn.innerHTML = '&#128465';
            deleteNoteBtn.addEventListener('click', deleteNote);
            var textarea = document.createElement('textarea');

            noteOptions.appendChild(addNoteBtn);
            noteOptions.appendChild(addPictureBtn);
            noteOptions.appendChild(deleteNoteBtn);

            noteHeader.appendChild(noteTitle);
            noteHeader.appendChild(noteOptions);

            note.appendChild(noteHeader);
            note.appendChild(textarea);

            container.appendChild(note);
        }

        // Add event listeners to existing buttons
            var deleteNoteButtons = document.getElementsByClassName('delete-note');
            for (var i = 0; i < deleteNoteButtons.length; i++) {
                deleteNoteButtons[i].addEventListener('click', deleteNote);
        }

            var addPictureButtons = document.getElementsByClassName('add-picture');
            for (var i = 0; i < addPictureButtons.length; i++) {
                addPictureButtons[i].addEventListener('click', addPicture);
        }

            var addNoteButton = document.getElementsByClassName('add-note')[0];
             addNoteButton.addEventListener('click', addNote);
    </script>
   </body>
</html>
